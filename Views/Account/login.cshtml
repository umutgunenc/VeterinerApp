@model LoginViewModel

@{
    Layout = "_LayoutAccount";
}


@section login {

    <h3 class="font-weight-bold text-white">
                Giriş Yap   <i class="fa-solid fa-user-check"></i>

        <hr />
    </h3>
    <form asp-action="Login" asp-controller="Account" method="post">
        <div class="form-col">

            <div class="form-group row mb-3">
                <label asp-for="UserName" class="col-sm-2 col-form-label font-weight-bold text-white">Kullanıcı Adı</label>
                <div class="col-sm-10">
                    <input type="text" asp-for="UserName" class="form-control" placeholder="Kullanıcı Adı">
                    <div class="mt-2">
                        <span class="font-weight-bold text-danger bg-light text-danger rounded" asp-validation-for="UserName"></span>
                    </div>
                </div>
            </div>

            <div class="form-group row mb-3">
                <label asp-for="PasswordHash" class="col-sm-2 col-form-label font-weight-bold text-white">Şifre</label>
                <div class="col-sm-10 input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text rounded-left" id="passBtn">
                            <span id="eyeIcon">
                                <i class="fa-solid fa-eye-slash"></i>
                            </span>
                        </span>
                    </div>
                    <input type="password" asp-for="PasswordHash" class="form-control rounded-right" id="password" placeholder="Şifre">
                </div>
                <div class="col-sm-10 offset-sm-2 mt-2">
                    <span class="font-weight-bold text-danger bg-light text-danger rounded" asp-validation-for="PasswordHash"></span>
                </div>
                <div class="col-sm-10 offset-sm-2 mt-2">
                    <span class="font-weight-bold text-danger bg-light text-danger rounded" asp-validation-for="AccessFailedCount"></span>
                </div>
                <div class="col-sm-10 offset-sm-2 mt-2">
                    <span class="font-weight-bold text-danger bg-light text-danger rounded" asp-validation-for="LockoutEnd"></span>
                </div>

            </div>

            <button type="submit" class="col btn btn-dark rounded mb-2">Giriş Yap <i class="fa-solid fa-user-check"></i> </button>

            <div class="form-group row mb-3">
                <div class="col-sm-12 d-flex justify-content-between">
                    <a href="/account/forgotPassword" class="btn btn-dark rounded" style="width:48%">
                        Şifremi Unuttum <i class="fa-solid fa-question"></i>
                    </a>
                    <a href="/account/register" class="btn btn-dark rounded" style="width:48%">
                        Kayıt Ol <i class="fa-regular fa-id-card"></i>
                    </a>
                </div>
            </div>


            @if (ViewBag.Hata != null)
            {
                <div class="font-weight-bold text-danger bg-light text-danger rounded" role="alert">
                    @ViewBag.Hata
                </div>
            }
        </div>
    </form>

}

<script>
    document.addEventListener("DOMContentLoaded", function () {

        var passBtn = document.getElementById("passBtn");
        var password = document.getElementById("password");
        var eyeIcon = document.getElementById("eyeIcon");

        passBtn.addEventListener("click", function () {
            if (password.type === "password") {
                password.type = "text";
                eyeIcon.innerHTML = `<i class="fa-solid fa-eye"></i>`;
            } else {
                password.type = "password";
                eyeIcon.innerHTML = `<i class="fa-solid fa-eye-slash"></i>`;
            }
        });

    });
</script>
